<html>
    <body>
        <table width="300px" height="180px">
            <thead>
                <tr id="header">
                </tr>
            </thead>
            <tbody id="body">
            </tbody>
        </table>
    </body>
</html>

<script>
    var allFiles = ['', 'Controller', 'DAO', 'Domain', 'Util', 'View', 'pymongo']
    var allPackages = ['pymongo']

    var relationships = [{'from': 'DAO', 'to': 'DAO', 'color': 'white', 'content': ''}, {'from': 'DAO', 'to': 'Controller', 'color': 'white', 'content': ''}, {'from': 'DAO', 'to': 'View', 'color': 'white', 'content': ''}, {'from': 'DAO', 'to': 'Domain', 'color': 'white', 'content': 3}, {'from': 'DAO', 'to': 'Util', 'color': 'white', 'content': ''}, {'from': 'DAO', 'to': 'pymongo', 'color': 'red', 'content': 5}, {'from': 'Controller', 'to': 'DAO', 'color': 'white', 'content': 2}, {'from': 'Controller', 'to': 'Controller', 'color': 'white', 'content': ''}, {'from': 'Controller', 'to': 'View', 'color': 'white', 'content': 2}, {'from': 'Controller', 'to': 'Domain', 'color': 'white', 'content': 2}, {'from': 'Controller', 'to': 'Util', 'color': '#dbdbdb', 'content': '?'}, {'from': 'Controller', 'to': 'pymongo', 'color': 'orange', 'content': 1}, {'from': 'View', 'to': 'DAO', 'color': 'white', 'content': ''}, {'from': 'View', 'to': 'Controller', 'color': 'white', 'content': ''}, {'from': 'View', 'to': 'View', 'color': 'white', 'content': ''}, {'from': 'View', 'to': 'Domain', 'color': 'white', 'content': 1}, {'from': 'View', 'to': 'Util', 'color': 'white', 'content': ''}, {'from': 'View', 'to': 'pymongo', 'color': 'white', 'content': ''}, {'from': 'Domain', 'to': 'DAO', 'color': 'white', 'content': ''}, {'from': 'Domain', 'to': 'Controller', 'color': 'white', 'content': ''}, {'from': 'Domain', 'to': 'View', 'color': 'white', 'content': ''}, {'from': 'Domain', 'to': 'Domain', 'color': 'white', 'content': ''}, {'from': 'Domain', 'to': 'Util', 'color': 'white', 'content': ''}, {'from': 'Domain', 'to': 'pymongo', 'color': 'white', 'content': ''}, {'from': 'Util', 'to': 'DAO', 'color': 'white', 'content': ''}, {'from': 'Util', 'to': 'Controller', 'color': 'white', 'content': ''}, {'from': 'Util', 'to': 'View', 'color': 'white', 'content': ''}, {'from': 'Util', 'to': 'Domain', 'color': 'white', 'content': ''}, {'from': 'Util', 'to': 'Util', 'color': 'white', 'content': ''}, {'from': 'Util', 'to': 'pymongo', 'color': 'white', 'content': ''}, {'from': 'pymongo', 'to': 'DAO', 'color': 'white', 'content': ''}, {'from': 'pymongo', 'to': 'Controller', 'color': 'white', 'content': ''}, {'from': 'pymongo', 'to': 'View', 'color': 'white', 'content': ''}, {'from': 'pymongo', 'to': 'Domain', 'color': 'white', 'content': ''}, {'from': 'pymongo', 'to': 'Util', 'color': 'white', 'content': ''}, {'from': 'pymongo', 'to': 'pymongo', 'color': 'white', 'content': ''}]


    var header = document.getElementById("header")

    allFiles.forEach(file => {
        var content = ""
        if (file === "") {
            content = "Modules"
        } else {
            content = allFiles.indexOf(file)
        }
        var th = document.createElement("th")
        var thText = document.createTextNode(content)
        th.appendChild(thText)

        if (allPackages.includes(file)) {
            th.style.backgroundColor = "#c5c5c5"
        } else if (file === ""){
            th.style.backgroundColor = "#fff"
        } else {
            th.style.backgroundColor = "#e8e8e8"
        }

        header.appendChild(th)
    });

    var tableBody = document.getElementById("body")
    allFiles.forEach(file => {
        if (file === "") {
            return
        }

        var newRow = document.createElement("tr")

        var rowHeader = document.createElement("th")

        var leftDiv = document.createElement("div")
        leftDiv.style.cssFloat = "left"
        leftDiv.style.width = "50%"
        var leftText = document.createTextNode(file)
        leftDiv.appendChild(leftText)

        var rightDiv = document.createElement("div")
        rightDiv.style.cssFloat = "right"
        rightDiv.style.width = "20%"
        var rightText = document.createTextNode(allFiles.indexOf(file))
        rightDiv.appendChild(rightText)
        
        rowHeader.appendChild(leftDiv)
        rowHeader.appendChild(rightDiv)

        if (allPackages.includes(file)) {
            rowHeader.style.backgroundColor = "#c5c5c5"
        } else {
            rowHeader.style.backgroundColor = "#e8e8e8"
        }

        newRow.appendChild(rowHeader)

        allFiles.forEach(childFile => {
            if (childFile === "") {
                return
            }

            var child = document.createElement("td")
            

            combination = relationships.filter(f => f['from'] == childFile && f['to'] == file)

            if (combination.length > 0) {
                child.style.backgroundColor = combination[0]["color"]
            } else {
                child.style.backgroundColor = "white"
            }



            var childContent = document.createTextNode(combination[0]["content"])
            child.style.textAlign = "center";
            child.appendChild(childContent)

            newRow.appendChild(child)

        });

        tableBody.appendChild(newRow)


    });

</script>

<style>
table {
  border-collapse: collapse;
}

table, td, th {
  border: 0.8px solid black;
}

</style>